import{i as g,n as R,q,z}from"./chunk-OIFSN6AI.js";import{Ba as h,Ca as b,Fa as F,G as B,_ as V,aa as D,fa as U}from"./chunk-NKUATUXO.js";import{Cc as $,Ia as u,Ic as E,Lb as _,Lc as A,Ma as m,Mb as L,Pa as d,Qa as f,Ua as M,V as a,bb as k,cb as s,da as l,db as r,e as p,ia as C,ib as x,ic as O,ja as v,lb as S,mb as N,pc as T,qc as j,xb as c,zb as w}from"./chunk-ZL7LBTKX.js";import"./chunk-2HP4JIPC.js";function W(o,t){if(o&1){let y=x();s(0,"button",2),S("click",function(){C(y);let e=N();return v(e.login())}),c(1,"Sign In with Google"),r()}}function X(o,t){if(o&1){let y=x();s(0,"button",3),S("click",function(){C(y);let e=N();return v(e.logout())}),c(1,"Sign Out"),r()}}var G=(()=>{let t=class t{constructor(i){this.authService=i,this.destroy$=new p,this.authService.onTokenChange().pipe(a(this.destroy$)).subscribe(e=>{this.token=null,e&&e.isValid()&&(this.token=e)})}login(){this.authService.authenticate("google").pipe(a(this.destroy$)).subscribe(i=>{})}logout(){this.authService.logout("google").pipe(a(this.destroy$)).subscribe(i=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(e){return new(e||t)(m(g))},t.\u0275cmp=d({type:t,selectors:[["nb-playground-auth"]],standalone:!1,decls:11,vars:6,consts:[["nbButton","","status","success",3,"click",4,"ngIf"],["nbButton","","status","warning",3,"click",4,"ngIf"],["nbButton","","status","success",3,"click"],["nbButton","","status","warning",3,"click"]],template:function(e,n){e&1&&(s(0,"nb-layout")(1,"nb-layout-column")(2,"nb-card")(3,"nb-card-body")(4,"p"),c(5),r(),s(6,"p"),c(7),_(8,"json"),r(),M(9,W,2,0,"button",0)(10,X,2,0,"button",1),r()()()()),e&2&&(u(5),w("Current User Authenticated: ",!!n.token),u(2),w("Current User Token: ",L(8,4,n.token)),u(2),k("ngIf",!n.token),u(),k("ngIf",n.token))},dependencies:[O,D,V,h,b,T],encapsulation:2});let o=t;return o})();var H=(()=>{let t=class t{constructor(i,e){this.authService=i,this.router=e,this.destroy$=new p,this.authService.authenticate("google").pipe(a(this.destroy$)).subscribe(n=>{n.isSuccess()&&n.getRedirect()&&this.router.navigateByUrl(n.getRedirect())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(e){return new(e||t)(m(g),m(E))},t.\u0275cmp=d({type:t,selectors:[["nb-playground-oauth2-callback"]],standalone:!1,decls:3,vars:0,template:function(e,n){e&1&&(s(0,"nb-layout")(1,"nb-layout-column"),c(2,"Authenticating..."),r()())},dependencies:[h,b],encapsulation:2});let o=t;return o})();var Y=[{path:"",component:G},{path:"callback",component:H}],J=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f({type:t}),t.\u0275inj=l({imports:[A.forChild(Y),A]});let o=t;return o})();var kt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f({type:t}),t.\u0275inj=l({imports:[j,B,$,z.forRoot({strategies:[q.setup({name:"google",clientId:"806751403568-03376bvlin9n3rhid0cahus6ei3lc69q.apps.googleusercontent.com",clientSecret:"",authorize:{endpoint:"https://accounts.google.com/o/oauth2/v2/auth",responseType:R.TOKEN,scope:"https://www.googleapis.com/auth/userinfo.profile",redirectUri:"https://akveo.github.io/nebular/example/oauth2/callback"},redirect:{success:"/example/oauth2"}})]}),U,F,J]});let o=t;return o})();export{kt as OAuth2PlaygroundModule};
