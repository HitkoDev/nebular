"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4293],{73176:(x,C,i)=>{i.d(C,{o:()=>j});var n=i(54438),P=i(21413),I=i(84412),w=i(57786),v=i(43236),t=i(41584);function c(b=0,L=v.E){return b<0&&(b=0),(0,t.O)(b,b,L)}var u=i(7673),l=i(27468),h=i(5964),a=i(25558),f=i(56977),F=i(39974),R=i(54360),S=i(58750);function D(b,L){return(0,F.N)((m,d)=>{const{leading:y=!0,trailing:M=!1}=L??{};let N=!1,B=null,T=null,U=!1;const W=()=>{T?.unsubscribe(),T=null,M&&(A(),U&&d.complete())},k=()=>{T=null,U&&d.complete()},V=E=>T=(0,S.Tg)(b(E)).subscribe((0,R._)(d,W,k)),A=()=>{if(N){N=!1;const E=B;B=null,d.next(E),!U&&V(E)}};m.subscribe((0,R._)(d,E=>{N=!0,B=E,(!T||T.closed)&&(y?A():V(E))},()=>{U=!0,(!(M&&N&&T)||T.closed)&&d.complete()}))})}var H=i(96697),Y=i(96354),Q=i(53033),K=i(69600),O=i(79202),G=i(84461);let j=(()=>{class b{get elementScroll(){return!this.windowScroll}set throttleTime(m){this.throttleTime$.next(m)}get throttleTime(){return this.throttleTime$.value}set listenWindowScroll(m){this.windowScroll=(0,Q.U)(m)}onElementScroll(){this.elementScroll&&this.elementScroll$.next()}constructor(m,d,y){this.elementRef=m,this.scrollService=d,this.dimensionsService=y,this.destroy$=new P.B,this.windowScroll=!1,this.elementScroll$=new P.B,this.windowScroll$=this.scrollService.onScroll().pipe((0,h.p)(()=>this.windowScroll)),this.bottomThreshold$=new P.B,this.topThreshold$=new P.B,this.throttleTime$=new I.t(0),this.bottomThreshold=new n.bkB(!0),this.topThreshold=new n.bkB(!0)}ngAfterViewInit(){(0,w.h)(this.windowScroll$,this.elementScroll$).pipe((0,a.n)(()=>this.getContainerDimensions()),(0,f.Q)(this.destroy$)).subscribe(m=>this.checkPosition(m)),this.throttleTime$.pipe((0,a.n)(()=>this.topThreshold$.pipe(D(()=>c(this.throttleTime)))),(0,f.Q)(this.destroy$)).subscribe(()=>{this.topThreshold.emit()}),this.throttleTime$.pipe((0,a.n)(()=>this.bottomThreshold$.pipe(D(()=>c(this.throttleTime)))),(0,f.Q)(this.destroy$)).subscribe(()=>{this.bottomThreshold.emit()}),this.listItems.changes.pipe((0,a.n)(()=>c(50).pipe((0,h.p)(()=>this.inSyncWithDom()),(0,H.s)(1),(0,f.Q)((0,t.O)(1e3)))),(0,a.n)(()=>this.getContainerDimensions()),(0,f.Q)(this.destroy$)).subscribe(m=>this.checkPosition(m)),this.getContainerDimensions().subscribe(m=>this.checkPosition(m))}ngOnDestroy(){this.topThreshold$.complete(),this.bottomThreshold$.complete(),this.elementScroll$.complete(),this.destroy$.next(),this.destroy$.complete()}checkPosition({scrollHeight:m,scrollTop:d,clientHeight:y}){const M=null==this.lastScrollPosition,B=d<this.lastScrollPosition;(M||this.lastScrollPosition===d||d>this.lastScrollPosition)&&m-d-y<=this.threshold&&this.bottomThreshold$.next(),(M||B)&&d<=this.threshold&&this.topThreshold$.next(),this.lastScrollPosition=d}getContainerDimensions(){if(this.elementScroll){const{scrollTop:m,scrollHeight:d,clientHeight:y}=this.elementRef.nativeElement;return(0,u.of)({scrollTop:m,scrollHeight:d,clientHeight:y})}return(0,l.p)([this.scrollService.getPosition(),this.dimensionsService.getDimensions()]).pipe((0,Y.T)(([m,d])=>({scrollTop:m.y,scrollHeight:d.scrollHeight,clientHeight:d.clientHeight})))}inSyncWithDom(){return this.elementRef.nativeElement.children.length===this.listItems.length}static{this.\u0275fac=function(d){return new(d||b)(n.rXU(n.aKT),n.rXU(O.f),n.rXU(G._))}}static{this.\u0275dir=n.FsC({type:b,selectors:[["","nbInfiniteList",""]],contentQueries:function(d,y,M){if(1&d&&n.wni(M,K.T,4),2&d){let N;n.mGM(N=n.lsd())&&(y.listItems=N)}},hostBindings:function(d,y){1&d&&n.bIt("scroll",function(){return y.onElementScroll()})},inputs:{threshold:"threshold",throttleTime:"throttleTime",listenWindowScroll:"listenWindowScroll"},outputs:{bottomThreshold:"bottomThreshold",topThreshold:"topThreshold"},standalone:!1})}}return b})()},35535:(x,C,i)=>{i.d(C,{b:()=>v});var n=i(54438),P=i(56977),I=i(21413),w=i(69600);let v=(()=>{class t{constructor(){this.destroy$=new I.B,this.startPage=1,this.pageChange=new n.bkB,this.observer=new IntersectionObserver(u=>this.checkForPageChange(u),{threshold:.5})}ngAfterViewInit(){this.listItems&&this.listItems.length&&this.observeItems(),this.listItems.changes.pipe((0,P.Q)(this.destroy$)).subscribe(()=>this.observeItems())}ngOnDestroy(){this.observer.disconnect&&this.observer.disconnect()}observeItems(){this.listItems.forEach(u=>this.observer.observe(u.nativeElement))}checkForPageChange(u){const l=this.findMostVisiblePage(u);l&&this.currentPage!==l&&(this.currentPage=l,this.pageChange.emit(this.currentPage))}findMostVisiblePage(u){const l=new Map;for(const f of u){if(f.intersectionRatio<.5)continue;const F=this.elementIndex(f.target);if(-1===F)continue;const R=this.startPage+Math.floor(F/this.pageSize);let S=f.intersectionRatio;l.has(R)&&(S+=l.get(R)),l.set(R,S)}let a,h=0;return l.forEach((f,F)=>{f>h&&(h=f,a=F)}),a}elementIndex(u){return u.parentElement&&u.parentElement.children?Array.from(u.parentElement.children).indexOf(u):-1}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275dir=n.FsC({type:t,selectors:[["","nbListPageTracker",""]],contentQueries:function(l,h,a){if(1&l&&n.wni(a,w.T,4,n.aKT),2&l){let f;n.mGM(f=n.lsd())&&(h.listItems=f)}},inputs:{pageSize:"pageSize",startPage:"startPage"},outputs:{pageChange:"pageChange"},standalone:!1})}}return t})()},69600:(x,C,i)=>{i.d(C,{T:()=>t,k:()=>v});var n=i(54438);const P=[[["nb-list-item"]]],I=["nb-list-item"],w=["*"];let v=(()=>{class c{constructor(){this.role="list"}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["nb-list"]],hostVars:1,hostBindings:function(h,a){2&h&&n.BMQ("role",a.role)},inputs:{role:"role"},standalone:!1,ngContentSelectors:I,decls:1,vars:0,template:function(h,a){1&h&&(n.NAR(P),n.SdG(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;overflow:auto}"]})}}return c})(),t=(()=>{class c{constructor(){this.role="listitem"}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["nb-list-item"]],hostVars:1,hostBindings:function(h,a){2&h&&n.BMQ("role",a.role)},inputs:{role:"role"},standalone:!1,ngContentSelectors:w,decls:1,vars:0,template:function(h,a){1&h&&(n.NAR(),n.SdG(0))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-shrink:0}"]})}}return c})()},4367:(x,C,i)=>{i.d(C,{P:()=>t}),i(69600),i(35535),i(73176);var w=i(54438);let t=(()=>{class c{static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275mod=w.$C({type:c})}static{this.\u0275inj=w.G2t({})}}return c})()},63528:(x,C,i)=>{i.d(C,{z:()=>t});var n=i(54438),P=i(25165),I=i(60177);function w(c,u){if(1&c&&(n.j41(0,"span",2),n.EFF(1),n.k0s()),2&c){const l=n.XpG();n.R7$(),n.JRh(l.message)}}let v=(()=>{class c{get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}constructor(l){this.statusService=l,this.message="Loading...",this.size="medium",this.status="basic"}static{this.\u0275fac=function(h){return new(h||c)(n.rXU(P.a))}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["nb-spinner"]],hostVars:26,hostBindings:function(h,a){2&h&&(n.HbH(a.additionalClasses),n.AVh("size-tiny",a.tiny)("size-small",a.small)("size-medium",a.medium)("size-large",a.large)("size-giant",a.giant)("status-primary",a.primary)("status-info",a.info)("status-success",a.success)("status-warning",a.warning)("status-danger",a.danger)("status-basic",a.basic)("status-control",a.control))},inputs:{message:"message",size:"size",status:"status"},standalone:!1,decls:2,vars:1,consts:[[1,"spin-circle"],["class","message",4,"ngIf"],[1,"message"]],template:function(h,a){1&h&&(n.nrm(0,"span",0),n.DNE(1,w,2,1,"span",1)),2&h&&(n.R7$(),n.Y8G("ngIf",a.message))},dependencies:[I.bT],styles:["\n\n\n\n\n[_nghost-%COMP%]{opacity:1;position:absolute;border-radius:inherit;inset:0;overflow:hidden;z-index:9999;display:flex;justify-content:center;align-items:center;visibility:visible}[_nghost-%COMP%]   .spin-circle[_ngcontent-%COMP%]{animation:spin .8s infinite linear;border-radius:50%;border-style:solid;border-width:.125em;width:1em;height:1em}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:.5rem}"]})}}return c})(),t=(()=>{class c{set nbSpinner(l){this.componentFactory?l?this.show():this.hide():this.shouldShow=l}constructor(l,h,a,f){this.directiveView=l,this.componentFactoryResolver=h,this.renderer=a,this.directiveElement=f,this.shouldShow=!1,this.spinnerStatus="basic",this.spinnerSize="medium",this.isSpinnerExist=!1}ngOnInit(){this.componentFactory=this.componentFactoryResolver.resolveComponentFactory(v),this.shouldShow&&this.show()}hide(){this.isSpinnerExist&&(this.directiveView.remove(),this.isSpinnerExist=!1)}show(){this.isSpinnerExist||(this.spinner=this.directiveView.createComponent(this.componentFactory),this.setInstanceInputs(this.spinner.instance),this.spinner.changeDetectorRef.detectChanges(),this.renderer.appendChild(this.directiveElement.nativeElement,this.spinner.location.nativeElement),this.isSpinnerExist=!0)}setInstanceInputs(l){l.message=this.spinnerMessage,typeof this.spinnerStatus<"u"&&(l.status=this.spinnerStatus),typeof this.spinnerSize<"u"&&(l.size=this.spinnerSize)}static{this.\u0275fac=function(h){return new(h||c)(n.rXU(n.c1b),n.rXU(n.OM3),n.rXU(n.sFG),n.rXU(n.aKT))}}static{this.\u0275dir=n.FsC({type:c,selectors:[["","nbSpinner",""]],hostVars:2,hostBindings:function(h,a){2&h&&n.AVh("nb-spinner-container",a.isSpinnerExist)},inputs:{spinnerMessage:[0,"nbSpinnerMessage","spinnerMessage"],spinnerStatus:[0,"nbSpinnerStatus","spinnerStatus"],spinnerSize:[0,"nbSpinnerSize","spinnerSize"],nbSpinner:"nbSpinner"},standalone:!1})}}return c})()},44293:(x,C,i)=>{i.r(C),i.d(C,{InfiniteListModule:()=>at});var n=i(60177),P=i(4367),I=i(37159),w=i(67013),v=i(54614),t=i(54438),c=i(28793),u=i(96697),l=i(46649),h=i(39974);const f=(e,p)=>(e.push(p),e);var R=i(30598),S=i(69600),D=i(96354),H=i(41655),Y=i(21626);let O=(()=>{class e{constructor(s){this.http=s}load(s,o){const r=(s-1)%7*o;return this.http.get("assets/data/news.json").pipe((0,D.T)(g=>g.splice(r,o)),(0,H.c)(1500))}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(Y.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();var G=i(79202),J=i(84461),j=i(35535),b=i(73176),L=i(84072);let m=(()=>{class e{constructor(){this.label="Loading"}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["nb-news-post-placeholder"]],hostVars:1,hostBindings:function(o,r){2&o&&t.BMQ("aria-label",r.label)},standalone:!1,decls:3,vars:0,consts:[[1,"title-placeholder"],[1,"text-placeholder"],[1,"link-placeholder"]],template:function(o,r){1&o&&t.nrm(0,"div",0)(1,"div",1)(2,"div",2)},styles:["\n\n\n\n\n[_nghost-%COMP%]{display:block;width:100%}.title-placeholder[_ngcontent-%COMP%]{height:1.8rem;margin-bottom:.5rem;width:80%}.text-placeholder[_ngcontent-%COMP%]{height:4rem;margin-bottom:1rem}.link-placeholder[_ngcontent-%COMP%]{height:1.25rem;width:5rem}[_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:var(--background-basic-color-4)}"]})}}return e})(),d=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["nb-news-post"]],inputs:{post:"post"},standalone:!1,decls:7,vars:3,consts:[[1,"h5"]],template:function(o,r){1&o&&(t.j41(0,"article")(1,"h2",0),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s(),t.j41(5,"a"),t.EFF(6,"Read full article"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(r.post.title),t.R7$(2),t.JRh(r.post.text),t.R7$(),t.BMQ("href",r.post.link,t.B4B))},encapsulation:2})}}return e})();function y(e,p){1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post-placeholder"),t.k0s())}function M(e,p){if(1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post",2),t.k0s()),2&e){const s=p.$implicit;t.R7$(),t.Y8G("post",s)}}function N(e,p){1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post-placeholder"),t.k0s())}let B=(()=>{class e{constructor(s,o,r,g,$,z,X){this.newsService=s,this.router=o,this.route=r,this.scrollService=g,this.layoutService=$,this.platformId=z,this.window=X,this.news=[],this.topPlaceholders=[],this.bottomPlaceholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,n.UE)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=X.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page:s}=this.route.snapshot.queryParams;this.startPage=s?Number.parseInt(s,10):100,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(s){this.router.navigate(["."],{queryParams:{page:s},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.topPlaceholders=new Array(this.pageSize),this.restoreScrollPosition(),this.startPage--,this.newsService.load(this.startPage,this.pageSize).subscribe(s=>{this.topPlaceholders=[],this.news.unshift(...s),this.loadingPrevious=!1},s=>this.startPage++))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.bottomPlaceholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(s=>{this.bottomPlaceholders=[],this.news.push(...s),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){(0,c.x)(this.layoutService.getDimensions(),this.scrollService.getPosition(),this.listItems.changes.pipe((0,u.s)(1)),this.layoutService.getDimensions(),this.scrollService.getPosition()).pipe(function F(){return(0,h.N)((e,p)=>{(function a(e,p){return(0,h.N)((0,l.S)(e,p,arguments.length>=2,!1,!0))})(f,[])(e).subscribe(p)})}()).subscribe(([s,o,,r,g])=>{const _=g.y,Z=r.scrollHeight-s.scrollHeight;o.y+Z!==_&&this.scrollService.scrollTo(null,_+Z)})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(O),t.rXU(v.Ix),t.rXU(v.nX),t.rXU(G.f),t.rXU(J._),t.rXU(t.Agw),t.rXU(R._5))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ng-component"]],viewQuery:function(o,r){if(1&o&&t.GBs(S.T,5,t.aKT),2&o){let g;t.mGM(g=t.lsd())&&(r.listItems=g)}},standalone:!1,features:[t.Jv_([O])],decls:5,vars:6,consts:[["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"topThreshold","bottomThreshold","pageChange","threshold","pageSize","startPage"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(o,r){1&o&&(t.j41(0,"nb-card")(1,"nb-list",0),t.bIt("topThreshold",function(){return r.loadPrevious()})("bottomThreshold",function(){return r.loadNext()})("pageChange",function($){return r.updateUrl($)}),t.DNE(2,y,2,0,"nb-list-item",1)(3,M,2,1,"nb-list-item",1)(4,N,2,0,"nb-list-item",1),t.k0s()()),2&o&&(t.R7$(),t.Y8G("threshold",500)("pageSize",r.pageSize)("startPage",r.startPage),t.R7$(),t.Y8G("ngForOf",r.topPlaceholders),t.R7$(),t.Y8G("ngForOf",r.news),t.R7$(),t.Y8G("ngForOf",r.bottomPlaceholders))},dependencies:[n.Sq,S.k,S.T,j.b,b.o,L.Sr,m,d],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]})}}return e})();function T(e,p){if(1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post",4),t.k0s()),2&e){const s=p.$implicit;t.R7$(),t.Y8G("post",s)}}function U(e,p){1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post-placeholder"),t.k0s())}function W(e,p){if(1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post",4),t.k0s()),2&e){const s=p.$implicit;t.R7$(),t.Y8G("post",s)}}function k(e,p){1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post-placeholder"),t.k0s())}let V=(()=>{class e{constructor(s){this.newsService=s,this.firstCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.secondCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.pageSize=10}loadNext(s){s.loading||(s.loading=!0,s.placeholders=new Array(this.pageSize),this.newsService.load(s.pageToLoadNext,this.pageSize).subscribe(o=>{s.placeholders=[],s.news.push(...o),s.loading=!1,s.pageToLoadNext++}))}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(O))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ng-component"]],standalone:!1,features:[t.Jv_([O])],decls:12,vars:6,consts:[[1,"own-scroll"],["nbInfiniteList","",3,"bottomThreshold","threshold"],[4,"ngFor","ngForOf"],["nbInfiniteList","","listenWindowScroll","",3,"bottomThreshold","threshold"],[3,"post"]],template:function(o,r){1&o&&(t.j41(0,"nb-card",0)(1,"nb-card-header"),t.EFF(2," Own scroll "),t.k0s(),t.j41(3,"nb-list",1),t.bIt("bottomThreshold",function(){return r.loadNext(r.firstCard)}),t.DNE(4,T,2,1,"nb-list-item",2)(5,U,2,0,"nb-list-item",2),t.k0s()(),t.j41(6,"nb-card")(7,"nb-card-header"),t.EFF(8," Window scroll "),t.k0s(),t.j41(9,"nb-list",3),t.bIt("bottomThreshold",function(){return r.loadNext(r.secondCard)}),t.DNE(10,W,2,1,"nb-list-item",2)(11,k,2,0,"nb-list-item",2),t.k0s()()),2&o&&(t.R7$(3),t.Y8G("threshold",500),t.R7$(),t.Y8G("ngForOf",r.firstCard.news),t.R7$(),t.Y8G("ngForOf",r.firstCard.placeholders),t.R7$(4),t.Y8G("threshold",500),t.R7$(),t.Y8G("ngForOf",r.secondCard.news),t.R7$(),t.Y8G("ngForOf",r.secondCard.placeholders))},dependencies:[n.Sq,S.k,S.T,b.o,L.Sr,L.zJ,m,d],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}","[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:30rem}"]})}}return e})();function A(e,p){if(1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post",2),t.k0s()),2&e){const s=p.$implicit;t.R7$(),t.Y8G("post",s)}}function E(e,p){1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post-placeholder"),t.k0s())}let q=(()=>{class e{constructor(s){this.newsService=s,this.news=[],this.placeholders=[],this.pageSize=10,this.pageToLoadNext=1,this.loading=!1}loadNext(){this.loading||(this.loading=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(s=>{this.placeholders=[],this.news.push(...s),this.loading=!1,this.pageToLoadNext++}))}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(O))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ng-component"]],standalone:!1,features:[t.Jv_([O])],decls:4,vars:3,consts:[["nbInfiniteList","","listenWindowScroll","",3,"bottomThreshold","threshold"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(o,r){1&o&&(t.j41(0,"nb-card")(1,"nb-list",0),t.bIt("bottomThreshold",function(){return r.loadNext()}),t.DNE(2,A,2,1,"nb-list-item",1)(3,E,2,0,"nb-list-item",1),t.k0s()()),2&o&&(t.R7$(),t.Y8G("threshold",500),t.R7$(),t.Y8G("ngForOf",r.news),t.R7$(),t.Y8G("ngForOf",r.placeholders))},dependencies:[n.Sq,S.k,S.T,b.o,L.Sr,m,d],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]})}}return e})();var tt=i(5964),et=i(63528);function st(e,p){if(1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post",3),t.k0s()),2&e){const s=p.$implicit;t.R7$(),t.Y8G("post",s)}}function it(e,p){1&e&&(t.j41(0,"nb-list-item"),t.nrm(1,"nb-news-post-placeholder"),t.k0s())}function ot(e,p){const s=e.getComputedStyle(p),o=parseInt(s.getPropertyValue("margin-top"),10),r=parseInt(s.getPropertyValue("margin-bottom"),10);return p.offsetHeight+o+r}const rt=[{path:"infinite-list-placeholders.component",component:B},{path:"infinite-list-scroll-modes.component",component:V},{path:"infinite-list-showcase.component",component:q},{path:"infinite-news-list.component",component:(()=>{class e{constructor(s,o,r,g,$,z){this.newsService=s,this.router=o,this.route=r,this.scrollService=g,this.platformId=$,this.window=z,this.news=[],this.placeholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,n.UE)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=z.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page:s}=this.route.snapshot.queryParams;this.startPage=s?Number.parseInt(s,10):1,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(s){this.router.navigate(["."],{queryParams:{page:s},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.newsService.load(this.startPage-1,this.pageSize).subscribe(s=>{this.news.unshift(...s),this.loadingPrevious=!1,this.restoreScrollPosition(),this.startPage--}))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(s=>{this.placeholders=[],this.news.push(...s),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){const s=this.listItems.length>0?this.listItems.first.nativeElement:null;this.listItems.changes.pipe((0,D.T)(()=>this.listItems.first.nativeElement),(0,tt.p)(o=>o!==s),(0,u.s)(1)).subscribe(()=>{let o=0;for(const{nativeElement:r}of this.listItems.toArray()){if(r===s)break;o+=ot(this.window,r)}this.scrollService.scrollTo(null,o)})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(O),t.rXU(v.Ix),t.rXU(v.nX),t.rXU(G.f),t.rXU(t.Agw),t.rXU(R._5))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ng-component"]],viewQuery:function(o,r){if(1&o&&t.GBs(S.T,5,t.aKT),2&o){let g;t.mGM(g=t.lsd())&&(r.listItems=g)}},standalone:!1,features:[t.Jv_([O])],decls:5,vars:6,consts:[[3,"nbSpinner"],["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"topThreshold","bottomThreshold","pageChange","threshold","pageSize","startPage"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(o,r){1&o&&(t.j41(0,"nb-card"),t.nrm(1,"div",0),t.j41(2,"nb-list",1),t.bIt("topThreshold",function(){return r.loadPrevious()})("bottomThreshold",function(){return r.loadNext()})("pageChange",function($){return r.updateUrl($)}),t.DNE(3,st,2,1,"nb-list-item",2)(4,it,2,0,"nb-list-item",2),t.k0s()()),2&o&&(t.R7$(),t.Y8G("nbSpinner",r.loadingPrevious),t.R7$(),t.Y8G("threshold",500)("pageSize",r.pageSize)("startPage",r.startPage),t.R7$(),t.Y8G("ngForOf",r.news),t.R7$(),t.Y8G("ngForOf",r.placeholders))},dependencies:[n.Sq,S.k,S.T,j.b,b.o,L.Sr,et.z,m,d],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]})}}return e})()}];let lt=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[v.iI.forChild(rt),v.iI]})}}return e})(),at=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[n.MD,P.P,I.l,w.g,lt]})}}return e})()}}]);